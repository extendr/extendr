<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A safe and user friendly R extension interface."><title>extendr_api - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-8092eaa720ad3b6f.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="extendr_api" data-themes="" data-resource-suffix="" data-rustdoc-version="1.72.0-nightly (8084f397c 2023-06-25)" data-channel="nightly" data-search-js="search-c507e026dd61038c.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ></div><script src="../static.files/storage-62ce34ea385b278a.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../extendr_api/index.html"><img src="https://raw.githubusercontent.com/extendr/extendr/master/extendr-logo-256.png" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../extendr_api/index.html"><img src="https://raw.githubusercontent.com/extendr/extendr/master/extendr-logo-256.png" alt="logo"></a><h2 class="location"><a href="#">Crate extendr_api</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.4.0</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#attributes">Attribute Macros</a></li><li><a href="#derives">Derive Macros</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">extendr_api</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/extendr_api/lib.rs.html#1-954">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A safe and user friendly R extension interface.</p>
<ul>
<li>Build rust extensions to R.</li>
<li>Convert R packages to Rust crates.</li>
</ul>
<p>This library aims to provide an interface that will be familiar to
first-time users of Rust or indeed any compiled language.</p>
<p>See <a href="robj/struct.Robj.html" title="struct extendr_api::robj::Robj"><code>Robj</code></a> for much of the content of this crate.
<a href="robj/struct.Robj.html" title="struct extendr_api::robj::Robj"><code>Robj</code></a> provides a safe wrapper for the R object type.</p>
<h3 id="examples"><a href="#examples">Examples</a></h3>
<p>Use attributes and macros to export to R.</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">use </span>extendr_api::prelude::<span class="kw-2">*</span>;
<span class="comment">// Export a function or impl to R.
</span><span class="attr">#[extendr]
</span><span class="kw">fn </span>fred(a: i32) -&gt; i32 {
    a + <span class="number">1
</span>}

<span class="comment">// define exports using extendr_module
</span><span class="macro">extendr_module! </span>{
   <span class="kw">mod </span>mymodule;
   <span class="kw">fn </span>fred;    
}
</code></pre></div>
<p>In R:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code>result &lt;- fred(<span class="number">1</span>)</code></pre></div>
<p><a href="robj/struct.Robj.html" title="struct extendr_api::robj::Robj">Robj</a> is a wrapper for R objects.
The r!() and R!() macros let you build R objects
using Rust and R syntax respectively.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>extendr_api::prelude::<span class="kw-2">*</span>;
<span class="macro">test! </span>{
    <span class="comment">// An R object with a single string &quot;hello&quot;
    </span><span class="kw">let </span>character = <span class="macro">r!</span>(<span class="string">&quot;hello&quot;</span>);
    <span class="kw">let </span>character = <span class="macro">r!</span>([<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;goodbye&quot;</span>]);
    
    <span class="comment">// An R integer object with a single number 1L.
    // Note that in Rust, 1 is an integer and 1.0 is a real.
    </span><span class="kw">let </span>integer = <span class="macro">r!</span>(<span class="number">1</span>);
    
    <span class="comment">// An R real object with a single number 1.
    // Note that in R, 1 is a real and 1L is an integer.
    </span><span class="kw">let </span>real = <span class="macro">r!</span>(<span class="number">1.0</span>);
    
    <span class="comment">// An R real vector.
    </span><span class="kw">let </span>real_vector = <span class="macro">r!</span>([<span class="number">1.0</span>, <span class="number">2.0</span>]);
    <span class="kw">let </span>real_vector = <span class="kw-2">&amp;</span>[<span class="number">1.0</span>, <span class="number">2.0</span>].iter().collect_robj();
    <span class="kw">let </span>real_vector = <span class="macro">r!</span>(<span class="macro">vec!</span>[<span class="number">1.0</span>, <span class="number">2.0</span>]);
    
    <span class="comment">// An R function object.
    </span><span class="kw">let </span>function = <span class="macro">R!</span>(<span class="string">&quot;function(x, y) { x + y }&quot;</span>)<span class="question-mark">?</span>;
    
    <span class="comment">// A named list using the list! macro.
    </span><span class="kw">let </span>list = <span class="macro">list!</span>(a = <span class="number">1</span>, b = <span class="number">2</span>);
    
    <span class="comment">// An unnamed list (of R objects) using the List wrapper.
    </span><span class="kw">let </span>list = <span class="macro">r!</span>(List::from_values(<span class="macro">vec!</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]));
    <span class="kw">let </span>list = <span class="macro">r!</span>(List::from_values(<span class="macro">vec!</span>[<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>]));
    <span class="kw">let </span>list = <span class="macro">r!</span>(List::from_values(<span class="kw-2">&amp;</span>[<span class="macro">r!</span>(<span class="string">&quot;a&quot;</span>), <span class="macro">r!</span>(<span class="number">1</span>), <span class="macro">r!</span>(<span class="number">2.0</span>)]));

    <span class="comment">// A symbol
    </span><span class="kw">let </span>sym = <span class="macro">sym!</span>(wombat);

    <span class="comment">// A R vector using collect_robj()
    </span><span class="kw">let </span>vector = (<span class="number">0</span>..<span class="number">3</span>).map(|x| x * <span class="number">10</span>).collect_robj();
}</code></pre></div>
<p>In Rust, we prefer to use iterators rather than loops.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>extendr_api::prelude::<span class="kw-2">*</span>;
<span class="macro">test! </span>{
    <span class="comment">// 1 ..= 100 is the same as 1:100
    </span><span class="kw">let </span>res = <span class="macro">r!</span>(<span class="number">1 </span>..= <span class="number">100</span>);
    <span class="macro">assert_eq!</span>(res, <span class="macro">R!</span>(<span class="string">&quot;1:100&quot;</span>)<span class="question-mark">?</span>);
    
    <span class="comment">// Rust arrays are zero-indexed so it is more common to use 0 .. 100.
    </span><span class="kw">let </span>res = <span class="macro">r!</span>(<span class="number">0 </span>.. <span class="number">100</span>);
    <span class="macro">assert_eq!</span>(res.len(), <span class="number">100</span>);
    
    <span class="comment">// Using map is a super fast way to generate vectors.
    </span><span class="kw">let </span>iter = (<span class="number">0</span>..<span class="number">3</span>).map(|i| <span class="macro">format!</span>(<span class="string">&quot;fred{}&quot;</span>, i));
    <span class="kw">let </span>character = iter.collect_robj();
    <span class="macro">assert_eq!</span>(character, <span class="macro">r!</span>([<span class="string">&quot;fred0&quot;</span>, <span class="string">&quot;fred1&quot;</span>, <span class="string">&quot;fred2&quot;</span>]));
}</code></pre></div>
<p>To index a vector, first convert it to a slice and then
remember to use 0-based indexing. In Rust, going out of bounds
will cause and error (a panic) unlike C++ which may crash.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>extendr_api::prelude::<span class="kw-2">*</span>;
<span class="macro">test! </span>{
    <span class="kw">let </span>vals = <span class="macro">r!</span>([<span class="number">1.0</span>, <span class="number">2.0</span>]);
    <span class="kw">let </span>slice = vals.as_real_slice().ok_or(<span class="string">&quot;expected slice&quot;</span>)<span class="question-mark">?</span>;
    <span class="kw">let </span>one = slice[<span class="number">0</span>];
    <span class="kw">let </span>two = slice[<span class="number">1</span>];
    <span class="comment">// let error = slice[2];
    </span><span class="macro">assert_eq!</span>(one, <span class="number">1.0</span>);
    <span class="macro">assert_eq!</span>(two, <span class="number">2.0</span>);
}</code></pre></div>
<p>Much slower, but more general are these methods:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>extendr_api::prelude::<span class="kw-2">*</span>;
<span class="macro">test! </span>{
    <span class="kw">let </span>vals = <span class="macro">r!</span>([<span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">3.0</span>]);
    
    <span class="comment">// one-based indexing [[i]], returns an object.
    </span><span class="macro">assert_eq!</span>(vals.index(<span class="number">1</span>)<span class="question-mark">?</span>, <span class="macro">r!</span>(<span class="number">1.0</span>));
    
    <span class="comment">// one-based slicing [x], returns an object.
    </span><span class="macro">assert_eq!</span>(vals.slice(<span class="number">1</span>..=<span class="number">2</span>)<span class="question-mark">?</span>, <span class="macro">r!</span>([<span class="number">1.0</span>, <span class="number">2.0</span>]));
    
    <span class="comment">// $ operator, returns an object
    </span><span class="kw">let </span>list = <span class="macro">list!</span>(a = <span class="number">1.0</span>, b = <span class="string">&quot;xyz&quot;</span>);
    <span class="macro">assert_eq!</span>(list.dollar(<span class="string">&quot;a&quot;</span>)<span class="question-mark">?</span>, <span class="macro">r!</span>(<span class="number">1.0</span>));
}</code></pre></div>
<p>The <a href="macro.R.html" title="macro extendr_api::R">R!</a> macro lets you embed R code in Rust
and takes Rust expressions in {{ }} pairs.</p>
<p>The <a href="macro.Rraw.html" title="macro extendr_api::Rraw">Rraw!</a> macro will not expand the {{ }} pairs.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>extendr_api::prelude::<span class="kw-2">*</span>;
<span class="macro">test! </span>{
    <span class="comment">// The text &quot;1 + 1&quot; is parsed as R source code.
    // The result is 1.0 + 1.0 in Rust.
    </span><span class="macro">assert_eq!</span>(<span class="macro">R!</span>(<span class="string">&quot;1 + 1&quot;</span>)<span class="question-mark">?</span>, <span class="macro">r!</span>(<span class="number">2.0</span>));

    <span class="kw">let </span>a = <span class="number">1.0</span>;
    <span class="macro">assert_eq!</span>(<span class="macro">R!</span>(<span class="string">&quot;1 + {{a}}&quot;</span>)<span class="question-mark">?</span>, <span class="macro">r!</span>(<span class="number">2.0</span>));

    <span class="macro">assert_eq!</span>(<span class="macro">R!</span>(<span class="string">r&quot;
        x &lt;- {{ a }}
        x + 1
    &quot;</span>)<span class="question-mark">?</span>, <span class="macro">r!</span>(<span class="number">2.0</span>));

    <span class="macro">assert_eq!</span>(<span class="macro">R!</span>(<span class="string">r#&quot;
        x &lt;- &quot;hello&quot;
        x
    &quot;#</span>)<span class="question-mark">?</span>, <span class="macro">r!</span>(<span class="string">&quot;hello&quot;</span>));

    <span class="comment">// Use the R meaning of {{ }} and do not expand.
    </span><span class="macro">assert_eq!</span>(<span class="macro">Rraw!</span>(<span class="string">r&quot;
        x &lt;- {{ 1 }}
        x + 1
    &quot;</span>)<span class="question-mark">?</span>, <span class="macro">r!</span>(<span class="number">2.0</span>));
}</code></pre></div>
<p>The <a href="prelude/macro.r.html" title="macro extendr_api::prelude::r">r!</a> macro converts a rust object to an R object
and takes parameters.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>extendr_api::prelude::<span class="kw-2">*</span>;
<span class="macro">test! </span>{
    <span class="comment">// The text &quot;1.0+1.0&quot; is parsed as Rust source code.
    </span><span class="kw">let </span>one = <span class="number">1.0</span>;
    <span class="macro">assert_eq!</span>(<span class="macro">r!</span>(one+<span class="number">1.0</span>), <span class="macro">r!</span>(<span class="number">2.0</span>));
}</code></pre></div>
<p>You can call R functions and primitives using the <a href="macro.call.html" title="macro extendr_api::call">call!</a> macro.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>extendr_api::prelude::<span class="kw-2">*</span>;
<span class="macro">test! </span>{

    <span class="comment">// As one R! macro call
    </span><span class="kw">let </span>confint1 = <span class="macro">R!</span>(<span class="string">&quot;confint(lm(weight ~ group - 1, PlantGrowth))&quot;</span>)<span class="question-mark">?</span>;
    
    <span class="comment">// As many parameterized calls.
    </span><span class="kw">let </span>formula = <span class="macro">lang!</span>(<span class="string">&quot;~&quot;</span>, <span class="macro">sym!</span>(weight), <span class="macro">lang!</span>(<span class="string">&quot;-&quot;</span>, <span class="macro">sym!</span>(group), <span class="number">1.0</span>)).set_class([<span class="string">&quot;formula&quot;</span>])<span class="question-mark">?</span>;
    <span class="kw">let </span>plant_growth = <span class="macro">global!</span>(PlantGrowth)<span class="question-mark">?</span>;
    <span class="kw">let </span>model = <span class="macro">call!</span>(<span class="string">&quot;lm&quot;</span>, formula, plant_growth)<span class="question-mark">?</span>;
    <span class="kw">let </span>confint2 = <span class="macro">call!</span>(<span class="string">&quot;confint&quot;</span>, model)<span class="question-mark">?</span>;
    
    <span class="macro">assert_eq!</span>(confint1.as_real_vector(), confint2.as_real_vector());
}</code></pre></div>
<p>Rust has a concept of “Owned” and “Borrowed” objects.</p>
<p>Owned objects, such as <a href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a> and <a href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a> allocate memory
which is released when the object lifetime ends.</p>
<p>Borrowed objects such as &amp;<a href="https://doc.rust-lang.org/nightly/std/primitive.i32.html" title="primitive i32">i32</a> and &amp;str are just pointers
to annother object’s memory and can’t live longer than the
object they reference.</p>
<p>Borrowed objects are much faster than owned objects and use less
memory but are used only for temporary access.</p>
<p>When we take a slice of an R vector, for example, we need the
original R object to be alive or the data will be corrupted.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>extendr_api::prelude::<span class="kw-2">*</span>;
<span class="macro">test! </span>{
    <span class="comment">// robj is an &quot;Owned&quot; object that controls the memory allocated.
    </span><span class="kw">let </span>robj = <span class="macro">r!</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);
    
    <span class="comment">// Here slice is a &quot;borrowed&quot; reference to the bytes in robj.
    // and cannot live longer than robj.
    </span><span class="kw">let </span>slice = robj.as_integer_slice().ok_or(<span class="string">&quot;expected slice&quot;</span>)<span class="question-mark">?</span>;
    <span class="macro">assert_eq!</span>(slice.len(), <span class="number">3</span>);
}</code></pre></div>
<h3 id="writing-tests"><a href="#writing-tests">Writing tests</a></h3>
<p>To test the functions exposed to R, wrap your code in the <a href="prelude/macro.test.html" title="macro extendr_api::prelude::test"><code>test!</code></a> macro.
This macro starts up the necessary R machinery for tests to work.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>extendr_api::prelude::<span class="kw-2">*</span>;

<span class="attr">#[extendr]
</span><span class="kw">fn </span>things() -&gt;  Strings {
    Strings::from_values(<span class="macro">vec!</span>[<span class="string">&quot;Test&quot;</span>, <span class="string">&quot;this&quot;</span>])
}

<span class="comment">// define exports using extendr_module
</span><span class="macro">extendr_module! </span>{
   <span class="kw">mod </span>mymodule;
   <span class="kw">fn </span>things;    
}


<span class="attr">#[cfg(test)]
</span><span class="kw">mod </span>test {
    <span class="kw">use super</span>::<span class="kw-2">*</span>;
    <span class="kw">use </span>extendr_api::prelude::<span class="kw-2">*</span>;

    <span class="attr">#[test]
    </span><span class="kw">fn </span>test_simple_function() {
        <span class="macro">assert_eq!</span>(things().elt(<span class="number">0</span>), <span class="string">&quot;Test&quot;</span>)
    }
}</code></pre></div>
<h3 id="feature-gates"><a href="#feature-gates">Feature gates</a></h3>
<p>extendr-api has some optional features behind these feature gates:</p>
<ul>
<li><code>ndarray</code>: provides the conversion between R’s matrices and <a href="https://docs.rs/ndarray/latest/ndarray/">ndarray</a>.</li>
<li><code>num-complex</code>: provides the conversion between R’s complex numbers and <a href="https://docs.rs/num-complex/latest/num_complex/">num-complex</a>.</li>
<li><code>serde</code>: provides the <a href="https://serde.rs/">Serde</a> support.</li>
<li><code>graphics</code>: provides the functionality to control or implement graphics devices.</li>
</ul>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.Robj"><code>pub use robj::<a class="struct" href="robj/struct.Robj.html" title="struct extendr_api::robj::Robj">Robj</a>;</code></div></li><li><div class="item-name" id="reexport.catch_r_error"><code>pub use thread_safety::<a class="fn" href="thread_safety/fn.catch_r_error.html" title="fn extendr_api::thread_safety::catch_r_error">catch_r_error</a>;</code></div></li><li><div class="item-name" id="reexport.handle_panic"><code>pub use thread_safety::handle_panic;</code></div></li><li><div class="item-name" id="reexport.single_threaded"><code>pub use thread_safety::<a class="fn" href="thread_safety/fn.single_threaded.html" title="fn extendr_api::thread_safety::single_threaded">single_threaded</a>;</code></div></li><li><div class="item-name" id="reexport.this_thread_id"><code>pub use thread_safety::<a class="fn" href="thread_safety/fn.this_thread_id.html" title="fn extendr_api::thread_safety::this_thread_id">this_thread_id</a>;</code></div></li><li><div class="item-name" id="reexport.throw_r_error"><code>pub use thread_safety::<a class="fn" href="thread_safety/fn.throw_r_error.html" title="fn extendr_api::thread_safety::throw_r_error">throw_r_error</a>;</code></div></li><li><div class="item-name" id="reexport.Metadata"><code>pub use metadata::<a class="struct" href="metadata/struct.Metadata.html" title="struct extendr_api::metadata::Metadata">Metadata</a>;</code></div></li><li><div class="item-name"><code>pub use <a class="mod" href="error/index.html" title="mod extendr_api::error">error</a>::*;</code></div></li><li><div class="item-name"><code>pub use <a class="mod" href="functions/index.html" title="mod extendr_api::functions">functions</a>::*;</code></div></li><li><div class="item-name"><code>pub use <a class="mod" href="lang_macros/index.html" title="mod extendr_api::lang_macros">lang_macros</a>::*;</code></div></li><li><div class="item-name"><code>pub use <a class="mod" href="na/index.html" title="mod extendr_api::na">na</a>::*;</code></div></li><li><div class="item-name"><code>pub use <a class="mod" href="rmacros/index.html" title="mod extendr_api::rmacros">rmacros</a>::*;</code></div></li><li><div class="item-name"><code>pub use <a class="mod" href="robj/index.html" title="mod extendr_api::robj">robj</a>::*;</code></div></li><li><div class="item-name"><code>pub use <a class="mod" href="wrapper/index.html" title="mod extendr_api::wrapper">wrapper</a>::*;</code></div></li></ul><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="deserializer/index.html" title="mod extendr_api::deserializer">deserializer</a></div><div class="desc docblock-short">Convert R objects to a wide variety of types.</div></li><li><div class="item-name"><a class="mod" href="error/index.html" title="mod extendr_api::error">error</a></div><div class="desc docblock-short">Error handling in Rust called from R.</div></li><li><div class="item-name"><a class="mod" href="functions/index.html" title="mod extendr_api::functions">functions</a></div></li><li><div class="item-name"><a class="mod" href="graphics/index.html" title="mod extendr_api::graphics">graphics</a></div><div class="desc docblock-short">Graphic Device Operations</div></li><li><div class="item-name"><a class="mod" href="io/index.html" title="mod extendr_api::io">io</a></div></li><li><div class="item-name"><a class="mod" href="iter/index.html" title="mod extendr_api::iter">iter</a></div></li><li><div class="item-name"><a class="mod" href="lang_macros/index.html" title="mod extendr_api::lang_macros">lang_macros</a></div><div class="desc docblock-short">Argument parsing and checking.</div></li><li><div class="item-name"><a class="mod" href="metadata/index.html" title="mod extendr_api::metadata">metadata</a></div><div class="desc docblock-short">Module metadata</div></li><li><div class="item-name"><a class="mod" href="na/index.html" title="mod extendr_api::na">na</a></div></li><li><div class="item-name"><a class="mod" href="optional/index.html" title="mod extendr_api::optional">optional</a></div><div class="desc docblock-short">A set of optional features and third-party crate integrations, usually hidden behind feature gates.</div></li><li><div class="item-name"><a class="mod" href="ownership/index.html" title="mod extendr_api::ownership">ownership</a></div><div class="desc docblock-short">Maintain ownership of R objects.</div></li><li><div class="item-name"><a class="mod" href="prelude/index.html" title="mod extendr_api::prelude">prelude</a></div><div class="desc docblock-short">Common exports for extendr-api.</div></li><li><div class="item-name"><a class="mod" href="rmacros/index.html" title="mod extendr_api::rmacros">rmacros</a></div><div class="desc docblock-short">rmacros - a set of macros to call actual R functions in a rusty way.</div></li><li><div class="item-name"><a class="mod" href="robj/index.html" title="mod extendr_api::robj">robj</a></div><div class="desc docblock-short">R object handling.</div></li><li><div class="item-name"><a class="mod" href="scalar/index.html" title="mod extendr_api::scalar">scalar</a></div></li><li><div class="item-name"><a class="mod" href="serializer/index.html" title="mod extendr_api::serializer">serializer</a></div><div class="desc docblock-short">See <a href="https://serde.rs/impl-serializer.html">https://serde.rs/impl-serializer.html</a></div></li><li><div class="item-name"><a class="mod" href="thread_safety/index.html" title="mod extendr_api::thread_safety">thread_safety</a></div><div class="desc docblock-short">Provide limited protection for multithreaded access to the R API.</div></li><li><div class="item-name"><a class="mod" href="wrapper/index.html" title="mod extendr_api::wrapper">wrapper</a></div><div class="desc docblock-short">Wrappers are lightweight proxies for references to R datatypes.
They do not contain an Robj (see array.rs for an example of this).</div></li></ul><h2 id="macros" class="small-section-header"><a href="#macros">Macros</a></h2><ul class="item-table"><li><div class="item-name"><a class="macro" href="macro.R.html" title="macro extendr_api::R">R</a></div><div class="desc docblock-short">Execute R code by parsing and evaluating tokens.</div></li><li><div class="item-name"><a class="macro" href="macro.Rraw.html" title="macro extendr_api::Rraw">Rraw</a></div><div class="desc docblock-short">Execute R code by parsing and evaluating tokens
but without expanding parameters.</div></li><li><div class="item-name"><a class="macro" href="macro.call.html" title="macro extendr_api::call">call</a></div><div class="desc docblock-short">Call a function or primitive defined by a text expression with arbitrary parameters.
This currently works by parsing and evaluating the string in R, but will probably acquire
some shortcuts for simple expessions, for example by caching symbols and constant values.</div></li><li><div class="item-name"><a class="macro" href="macro.data_frame.html" title="macro extendr_api::data_frame">data_frame</a></div><div class="desc docblock-short">Create a dataframe.</div></li><li><div class="item-name"><a class="macro" href="macro.extendr_module.html" title="macro extendr_api::extendr_module">extendr_module</a></div><div class="desc docblock-short">Define a module and export symbols to R
Example:</div></li><li><div class="item-name"><a class="macro" href="macro.factor.html" title="macro extendr_api::factor">factor</a></div><div class="desc docblock-short">Create a factor.</div></li><li><div class="item-name"><a class="macro" href="macro.global.html" title="macro extendr_api::global">global</a></div><div class="desc docblock-short">Get a global variable.</div></li><li><div class="item-name"><a class="macro" href="macro.lang.html" title="macro extendr_api::lang">lang</a></div><div class="desc docblock-short">A macro for constructing R langage objects.</div></li><li><div class="item-name"><a class="macro" href="macro.list.html" title="macro extendr_api::list">list</a></div><div class="desc docblock-short">Create a List R object from a list of name-value pairs.</div></li><li><div class="item-name"><a class="macro" href="macro.pairlist.html" title="macro extendr_api::pairlist">pairlist</a></div><div class="desc docblock-short">Create a Pairlist R object from a list of name-value pairs.</div></li><li><div class="item-name"><a class="macro" href="macro.r.html" title="macro extendr_api::r">r</a></div><div class="desc docblock-short">Convert a rust expression to an R object.</div></li><li><div class="item-name"><a class="macro" href="macro.reprint.html" title="macro extendr_api::reprint">reprint</a></div><div class="desc docblock-short">Print via the R error stream.</div></li><li><div class="item-name"><a class="macro" href="macro.reprintln.html" title="macro extendr_api::reprintln">reprintln</a></div><div class="desc docblock-short">Print with a newline via the R output stream.</div></li><li><div class="item-name"><a class="macro" href="macro.rprint.html" title="macro extendr_api::rprint">rprint</a></div><div class="desc docblock-short">Print via the R output stream.</div></li><li><div class="item-name"><a class="macro" href="macro.rprintln.html" title="macro extendr_api::rprintln">rprintln</a></div><div class="desc docblock-short">Print with a newline via the R output stream.</div></li><li><div class="item-name"><a class="macro" href="macro.sym.html" title="macro extendr_api::sym">sym</a></div><div class="desc docblock-short">The sym! macro install symbols.
You should cache your symbols in variables
as generating them is costly.</div></li><li><div class="item-name"><a class="macro" href="macro.test.html" title="macro extendr_api::test">test</a></div><div class="desc docblock-short">Macro for running tests.</div></li><li><div class="item-name"><a class="macro" href="macro.var.html" title="macro extendr_api::var">var</a></div><div class="desc docblock-short">Get a local variable from the calling function
or a global variable if no such variable exists.</div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.Rany.html" title="enum extendr_api::Rany">Rany</a></div><div class="desc docblock-short">Enum use to unpack R objects into their specialist wrappers.</div></li><li><div class="item-name"><a class="enum" href="enum.Rtype.html" title="enum extendr_api::Rtype">Rtype</a></div><div class="desc docblock-short">Type of R objects used by <a href="robj/struct.Robj.html#method.rtype" title="method extendr_api::robj::Robj::rtype">Robj::rtype</a>.</div></li></ul><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.FALSE.html" title="constant extendr_api::FALSE">FALSE</a></div><div class="desc docblock-short">FALSE value eg. <code>r!(FALSE)</code></div></li><li><div class="item-name"><a class="constant" href="constant.NA_INTEGER.html" title="constant extendr_api::NA_INTEGER">NA_INTEGER</a></div><div class="desc docblock-short">NA value for integers eg. <code>r!(NA_INTEGER)</code></div></li><li><div class="item-name"><a class="constant" href="constant.NA_LOGICAL.html" title="constant extendr_api::NA_LOGICAL">NA_LOGICAL</a></div><div class="desc docblock-short">NA value for logical. <code>r!(NA_LOGICAL)</code></div></li><li><div class="item-name"><a class="constant" href="constant.NA_REAL.html" title="constant extendr_api::NA_REAL">NA_REAL</a></div><div class="desc docblock-short">NA value for real values eg. <code>r!(NA_REAL)</code></div></li><li><div class="item-name"><a class="constant" href="constant.NA_STRING.html" title="constant extendr_api::NA_STRING">NA_STRING</a></div><div class="desc docblock-short">NA value for strings. <code>r!(NA_STRING)</code></div></li><li><div class="item-name"><a class="constant" href="constant.NULL.html" title="constant extendr_api::NULL">NULL</a></div><div class="desc docblock-short">NULL value eg. <code>r!(NULL)</code></div></li><li><div class="item-name"><a class="constant" href="constant.TRUE.html" title="constant extendr_api::TRUE">TRUE</a></div><div class="desc docblock-short">TRUE value eg. <code>r!(TRUE)</code></div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.Deref.html" title="trait extendr_api::Deref">Deref</a></div><div class="desc docblock-short">Used for immutable dereferencing operations, like <code>*v</code>.</div></li><li><div class="item-name"><a class="trait" href="trait.DerefMut.html" title="trait extendr_api::DerefMut">DerefMut</a></div><div class="desc docblock-short">Used for mutable dereferencing operations, like in <code>*v = 1;</code>.</div></li><li><div class="item-name"><a class="trait" href="trait.TryFrom.html" title="trait extendr_api::TryFrom">TryFrom</a></div><div class="desc docblock-short">Simple and safe type conversions that may fail in a controlled
way under some circumstances. It is the reciprocal of <a href="trait.TryInto.html" title="trait extendr_api::TryInto"><code>TryInto</code></a>.</div></li><li><div class="item-name"><a class="trait" href="trait.TryInto.html" title="trait extendr_api::TryInto">TryInto</a></div><div class="desc docblock-short">An attempted conversion that consumes <code>self</code>, which may or may not be
expensive.</div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.make_method_def.html" title="fn extendr_api::make_method_def">make_method_def</a><span title="Restricted Visibility">&nbsp;🔒</span> <sup title="unsafe function">⚠</sup></div></li><li><div class="item-name"><a class="fn" href="fn.rtype_to_sxp.html" title="fn extendr_api::rtype_to_sxp">rtype_to_sxp</a></div><div class="desc docblock-short">Convert extendr’s Rtype to R’s SEXPTYPE.
Panics if the type is Unknown.</div></li><li><div class="item-name"><a class="fn" href="fn.sxp_to_rtype.html" title="fn extendr_api::sxp_to_rtype">sxp_to_rtype</a></div><div class="desc docblock-short">Convert R’s SEXPTYPE to extendr’s Rtype.</div></li></ul><h2 id="attributes" class="small-section-header"><a href="#attributes">Attribute Macros</a></h2><ul class="item-table"><li><div class="item-name"><a class="attr" href="attr.extendr.html" title="attr extendr_api::extendr">extendr</a></div></li></ul><h2 id="derives" class="small-section-header"><a href="#derives">Derive Macros</a></h2><ul class="item-table"><li><div class="item-name"><a class="derive" href="derive.IntoDataFrameRow.html" title="derive extendr_api::IntoDataFrameRow">IntoDataFrameRow</a></div><div class="desc docblock-short">Enable the construction of dataframes from arrays of structures.</div></li><li><div class="item-name"><a class="derive" href="derive.IntoRobj.html" title="derive extendr_api::IntoRobj">IntoRobj</a></div><div class="desc docblock-short">Derives an implementation of <code>From&lt;Struct&gt; for Robj</code> and <code>From&lt;&amp;Struct&gt; for Robj</code> on this struct.</div></li><li><div class="item-name"><a class="derive" href="derive.TryFromRobj.html" title="derive extendr_api::TryFromRobj">TryFromRobj</a></div><div class="desc docblock-short">Derives an implementation of <code>TryFrom&lt;Robj&gt; for Struct</code> and <code>TryFrom&lt;&amp;Robj&gt; for Struct</code> on this struct.</div></li></ul></section></div></main></body></html>